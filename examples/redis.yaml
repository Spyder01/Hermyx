# Global logging options (LogConfig)
log:
  toFile: false # Write logs to file if true
  filePath: "" # Path to log file when toFile=true
  toStdout: true # Mirror logs to stdout
  prefix: "[hermyx]" # Log line prefix
  flags: 0 # Bit flags for log formatting (app-defined)
  debugEnabled: false # Enable debug logs

# Server settings (ServerConfig)
server:
  port: 8080 # TCP port for the proxy

# Default cache backend (CacheConfig)
cache:
  type: "redis" # memory|disk|redis
  enabled: true # Master toggle for caching
  ttl: 300s # Default TTL for cached entries
  capacity: 0 # Not applicable to Redis
  maxContentSize: 1048576 # Max item size in bytes
  redis:
    address: "127.0.0.1:6379"  # Redis server address with port
    password: ""               # Optional password
    db: 0                      # Database index
    namespace: "hermyx:"       # Optional key namespace/prefix

  keyConfig:
    type: ["path", "query"]
    excludeMethods: ["POST", "PUT", "DELETE"]

# Local storage path (for fallback or misc data)
storage:
  path: "/var/cache/hermyx"

# Route list (RouteConfig[])
routes:
  - name: "session-cache"
    path: "/session"
    target: "http://127.0.0.1:9002"
    cache:
      type: "redis"
      enabled: true
      ttl: 600s
      keyConfig:
        type: ["path", "query"]
